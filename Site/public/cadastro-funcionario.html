<!DOCTYPE html>
<html lang="pt">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet" rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="./css/modal.css">
	<link rel="stylesheet" href="./css/cadastros-logado.css">
	<script type="text/javascript" src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>
	<link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,0,0"/>
	<title>DataCat</title>
	<script src="./js/Cadastrar.js"></script>
</head>

<body onload='listar("/usuarioController")' >


	<!-- SIDEBAR -->
	<section id="sidebar">
		<a id="img_logo" href="#" class="brand">
			<img src="./assets/imagens/logo/logo-black.png"
				alt="">

			<span class="text">DataCat</span>
		</a>
		<ul class="side-menu top">
			<li>
				<a href="./dashboard/dashboard.html">
					<span class="material-icons-sharp">
						grid_view
					</span>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li  class="active">
				<a href="./cadastro-funcionario.html">
					<span class="material-icons-sharp">
						perm_identity
					</span>
					<span class="text">Cadastrar usuário</span>
				</a>
			</li>
			<li>
				<a href="./cadastro-maquina.html">
					<span class="material-icons-sharp">add_to_queue</span>
					<span>Máquina</span>
				</a>
			</li>
			
		</ul>
		<ul class="side-menu">
			
			<li>
				<a href="login.html" class="logout" onclick="limparSessao()">
					<span class="material-icons-sharp">logout</span>
					<span class="text">Sair</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
			<!-- <span class="material-icons-sharp"> -->


			<a href="#" class="nav-link">Categorias</a>
			<form action="#">
				<div class="form-input">

				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a href="#" class="notification">
				<span class="material-icons-sharp">
					notifications
				</span>
				<span class="num">8</span>
			</a>
			<a href="#" class="profile">
				<img src="./assets/fotos/leticia.jfif">
			</a>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Cadastro Funcionário</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right'></i></li>
						<li>
							<a class="active" href="#">Cadastro Funcionário</a>
						</li>
					</ul>
				</div>
			</div>


			<div id="idcadastrofun">
				<div class="box-subscribe">
					<div class="subscribe-left">
						<div class="title-subscribe">
							<h3>Faça o cadastro do seu time e deixe todos infomados</h3>
							<i>Cadastre agora</i>
						</div>
						<img src="./assets/imagens/filing-system-amico.png" alt="">
					</div>
					
					<div id="cadastro" class = "subscribe-right">
						<form action="" id="form_cadastroUsauario" method="post" onsubmit="return cadastrarUsuario()">
							<label  for="">Nome</label>
							<input name="nomeUsuario" type="text"  maxlength="15">
							<label for="">Permissão</label>
							<select name="cargo" id="cargo"  maxlength="45">
								<option value="Técnico de Infraestrutura">Técnico de Infraestrutura</option>
								<option value="Gerente de Infraestrutura">Gerente de Infraestrutura</option>
								<option value="Gerente Bancário">Gerente Bancário</option>
								<option value="Bancário">Bancário</option>
							</select> 
							<label for="">Email</label>
							<input name="email" id="email" type="email"  maxlength="45">
							<label for="">Senha</label>
							<input name="senha" id="senha" type="password"  maxlength="45">							
							<input name="idEmpresa" id="idEmpresa" style="visibility: hidden;" >
							<div class="space-btn">
							<button class="btn"><h3><a>Cadastrar</a></h3></button>
							</div>
						</form>
						
					
				    </div>
				</div>
			</div>	
			<div id="div_aguardar" class="loading-div">
				<img src="./assets/imagens/loading-13.gif" id="loading-gif">
			</div>
            
			<div id="div_formulario_upDate"></div>

			<div class="box-info-funcionario">
				<h1 class="id" >Id</h1>
				<h1 class="nome" >Nome</h1>
				<h1 class="Email">Email</h1>
				<h1 class="funcao">Função</h1>
			</div>

			<div id="lista"></div>


		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->


	<!-- <script src="script.js"></script> -->
</body>

</html>

<script src="./dashboard/script.js">


// Get the modal
var modal = document.getElementById("myModal");
var modal2 = document.getElementById("myModal2");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");
var btn2 = document.getElementById("myBtn2");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];



// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}
btn2.onclick = function() {
  modal2.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
  modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal || event.target == modal2 ) {
    modal.style.display = "none";
	modal2.style.display = "none";
  }
}


	const allSideMenu = document.querySelectorAll('#sidebar .side-menu.top li a');

	allSideMenu.forEach(item => {
		const li = item.parentElement;

		item.addEventListener('click', function () {
			allSideMenu.forEach(i => {
				i.parentElement.classList.remove('active');
			})
			li.classList.add('active');
		})
	});

	// TOGGLE SIDEBAR
	const menuBar = document.querySelector('#content nav .bx.bx-menu');
	const sidebar = document.getElementById('sidebar');

	menuBar.addEventListener('click', function () {
		sidebar.classList.toggle('hide');
	})

	const searchButton = document.querySelector('#content nav form .form-input button');
	const searchButtonIcon = document.querySelector('#content nav form .form-input button .bx');
	const searchForm = document.querySelector('#content nav form');

	searchButton.addEventListener('click', function (e) {
		if (window.innerWidth < 576) {
			e.preventDefault();
			searchForm.classList.toggle('show');
			if (searchForm.classList.contains('show')) {
				searchButtonIcon.classList.replace('bx-search', 'bx-x');
			} else {
				searchButtonIcon.classList.replace('bx-x', 'bx-search');
			}
		}
	})



	if (window.innerWidth < 768) {
		sidebar.classList.add('hide');
	} else if (window.innerWidth > 576) {
		searchButtonIcon.classList.replace('bx-x', 'bx-search');
		searchForm.classList.remove('show');
	}


	window.addEventListener('resize', function () {
		if (this.innerWidth > 576) {
			searchButtonIcon.classList.replace('bx-x', 'bx-search');
			searchForm.classList.remove('show');
		}
	})



	const switchMode = document.getElementById('switch-mode');
	switchMode.addEventListener('change', function () {
		if (this.checked) {
			document.body.classList.add('dark');
			document.getElementById('img_logo').src="./assets/imagens/logo/logo-ligth.png"
		} else {
			document.body.classList.remove('dark');
		}
	})

	function plotarGrafico(idGrafico) {

		const ctx = document.getElementById(idGrafico).getContext('2d');
		let myChart = new Chart(ctx, {
			type: 'line',

			data: {
				labels: gerarDatas(),
				datasets: [{
					label: 'Desempenho',
					data: gerarDados(),
					backgroundColor: [
						'rgba(255, 99, 132, 0.12)',
					],
					borderColor: [
						'rgba(255, 99, 132, 1)',
					],
					borderWidth: 1
				}]
			},
			options: {
				scales: {
					y: {
						beginAtZero: true
					}
				}
			}
		});
	}

	function gerarDados() {
		dados = [];
		for (let index = 0; index < 30; index++) {
			dados.push((Math.random() * 100).toFixed(0));
		}
		return dados;
	}
	function gerarDatas() {
		datas = [];
		for (let index = 0; index < 30; index++) {
			datas.push((Math.random() * 23).toFixed(0) + ':' + (Math.random() * 59).toFixed(0) + ':' + (Math.random() * 59).toFixed(0));
		}
		return datas.sort();
	}

</script>

<script src="./js/funcoes.js"></script>

<script src="./js/Deletes.js"></script>

<script src="./js/upDates.js"></script>

<script src="./js/Listar.js"></script>